<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- Ajax 数据交互过程
        0. 预检： 将请求通道、请求头、请求数据准备就绪。(对应状态码 0)(对应响应码 400)
        1. 向服务器发送请求头、请求头的值、令牌(权限访问)(对应状态码 1)(对应响应码 401)
        2. 服务器向客户端发送权限、数据地址(对应状态码 2)(对应响应码 402)(权限码 : 200)
        3. 客户端向服务器发送用户输入的数据(对应状态码 3)(对应响应码 403)
        4. 服务器向客户端发送错误信息或者真实数据(对应状态码 4)(对应响应码 404)
        5. 客户端向服务发送反馈信息(对应状态码 5)(对应响应码 405)
    -->
    <img src="" alt="">
    <script>
        // 声明/创建一个Ajax对象
        var xhr = new XMLHttpRequest();
        // 建立请求通道
        // xhr.open(string:请求方式(get,post),string:请求路径)
        xhr.open("get","http://192.168.2.105:8080/api/data")
        // 设置请求头
        // xhr.setRequestHeader(string:请求头,string:请求头的值)
        xhr.setRequestHeader("content-type","application/x-www-form-urlencoded")
        // 发送请求数据
        xhr.send()
        // 发起请求
        xhr.onreadystatechange = function(){
            // 判定状态码 和 请求权限码
            if(xhr.readyState == 4 && xhr.status == 200){
                // 拿到请求数据
                var result = xhr.responseText
                // console.log("请求过来的数据：",result)
                // 字符串转JSON对象
                var json = JSON.parse(result)
                console.log("转化完毕的数据：",json)
                // var img = document.querySelector("img")
                // img.setAttribute("src",json.pageTitle)
            }
        }
    </script>
</body>
</html>